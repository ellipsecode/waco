edit()
startEdit()
cd('JDBCSystemResources')
if (ls().find('testDatasource') == -1):
  cmo.createJDBCSystemResource('testDatasource')
cd('testDatasource')
cd('JDBCResource')
cd('testDatasource')
set('Name',"testDataSource")
cd('JDBCDataSourceParams')
cd('testDatasource')
set('JNDINames',jarray.array([String("jdbc/testDataSource") ], String))
set('GlobalTransactionsProtocol',"OnePhaseCommit")
cd('..')
cd('..')
cd('JDBCDriverParams')
cd('testDatasource')
set('Url',"jdbc:oracle:thin:@localhost:1521/XE")
set('DriverName',"oracle.jdbc.xa.client.OracleXADataSource")
set('Password',"dbpassword")
cd('Properties')
cd('testDatasource')
cd('Properties')
cmo.createProperty('user')
cd('user')
cmo.setValue("dbuser")
cd('..')
cd('..')
cd('..')
cd('..')
cd('..')
cd('..')
cd('JDBCConnectionPoolParams')
cd('testDatasource')
set('TestTableName',"SQL SELECT * FROM DUAL")
cd('..')
cd('..')
cd('..')
cd('..')
cd('..')
cd('..')
save()
activate()
